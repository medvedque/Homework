/*Медведев Алексей .
Семинар 3,задача 25.
Построить график функции, фигурировавшей в уравнении, которое решалось после предыдущего семинара в окрестности найденного корня уравнения.*/

#include <iostream>
#include <stdlib.h>
#include <math.h>

using namespace std;
#define X 50 //задаем размеры массива по осям
#define Y 100

char A[X][Y] = {};


double f(double x)//задаем функцию
{
	return (exp(-x*x) - x);
}

void print_table(char A[X][Y])
{
	for (int i = Y-1; i > 0; i--)
	{
		for (int j = 0; j < X; j++)
		{
			cout << A[j][i];//вывод всех строк даного массива
		}

		cout << endl;
	}
}

int main()
{
	double a = 0;

	for (int i =0; i < X-1; i++)
	{
		for (int j = 0; j < Y-1; j++)
		{
			A[i][49] = '-'; // с помощью цикла for на экране выводятся координатные оси
			A[24][j] = '.';
		}
	}

	for (int i =0; i < X; i++)
	{
		a = (f(i-24))+25;//связываем номер элемента массива  по оси x со знначением функции(с учетом размера выбранных осей) 
		int b = a*2;//округляем a до целых и выбираем маштаб
		if ( b-49 < X)//условие выхода из цикла:если значение b станет больше 99
			if (f(b)<Y)
		{
			A[i][b] = '*';// пишем звездочку,если график прямой проходит через данную клетку массива
		}
	}
	A[49][49] = 'x';//обозначаем координатные оси
	A[24][99] = 'y';

	print_table(A);//печать всей таблицы
	return 0;
}
